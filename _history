{"entries":[{"timestamp":1759616441122,"editorVersion":"2.0.59","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":584,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":29,"diffs":[[1,"    \"name\": \"really moving tiles \",\n"]]},{"start1":228,"length1":45,"diffs":[[1,"    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1759617047389,"editorVersion":"2.0.59","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":122,"length1":9,"diffs":[[1,""]]}]}]},{"timestamp":1759617048367,"editorVersion":"2.0.59","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":47,"length1":34,"diffs":[[1,""]]},{"start1":49,"length1":109,"diffs":[[1,""]]},{"start1":109,"length1":75,"diffs":[[1,""]]},{"start1":122,"length1":65,"diffs":[[1,"     \r\n"]]},{"start1":131,"length1":157,"diffs":[[1,""]]},{"start1":591,"length1":367,"diffs":[[1,""]]}]}]},{"timestamp":1759617645513,"editorVersion":"2.0.59","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":47,"length1":0,"diffs":[[1,"     protected tileSpeed: number\r\n"]]},{"start1":83,"length1":48,"diffs":[[1,""]]},{"start1":252,"length1":11,"diffs":[[1,"         this.tileSpeed = 0\r\n\r\n"]]},{"start1":327,"length1":32,"diffs":[[1,""]]},{"start1":340,"length1":0,"diffs":[[1,"     setSpeed(v: number) {\r\n         this.tileSpeed = v\r\n     }\r\n\r\n"]]},{"start1":554,"length1":71,"diffs":[[1,""]]},{"start1":564,"length1":111,"diffs":[[1,""]]},{"start1":894,"length1":62,"diffs":[[1,""]]},{"start1":1303,"length1":96,"diffs":[[1,"             this.x += this.vx \r\n             this.y += this.vy\r\n\r\n"]]},{"start1":1391,"length1":271,"diffs":[[1," }"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":76,"length1":83,"diffs":[[1,"        \"device\": \"*\"\n"]]}]}]},{"timestamp":1759618248422,"editorVersion":"2.0.59","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":321,"length1":57,"diffs":[[1,"\r\n"]]}]}]},{"timestamp":1759618270779,"editorVersion":"2.0.59","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":321,"length1":2,"diffs":[[1,"tiles.tileAtLocationIsWall(tiles.getTileLocation(0, 0))\r\n"]]},{"start1":1284,"length1":329,"diffs":[[1,""]]}]}]},{"timestamp":1759619593362,"editorVersion":"2.0.59","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":2223,"length1":24,"diffs":[[1,""]]}]}]},{"timestamp":1759619597192,"editorVersion":"2.0.59","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":323,"length1":35,"diffs":[[1,""]]},{"start1":2225,"length1":792,"diffs":[[1,"new MovingTileEngine()"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":35,"diffs":[[1,"    \"name\": \" moving tiles 10/4/2025 7:11 PM\",\n"]]},{"start1":239,"length1":72,"diffs":[[1,"        \"assets.json\"\n"]]},{"start1":268,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"},{"type":"added","filename":"main.blocks","value":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"},{"type":"added","filename":"tilemap.g.jres","value":"{\n    \"tile1\": {\n        \"data\": \"hwQQABAAAACqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile\"\n    },\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMA==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tileGrass2\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}"},{"type":"added","filename":"tilemap.g.ts","value":"// Auto-generated code. Do not edit.\nnamespace myTiles {\n    //% fixedInstance jres blockIdentity=images._tile\n    export const tile1 = image.ofBuffer(hex``);\n    //% fixedInstance jres blockIdentity=images._tile\n    export const transparency16 = image.ofBuffer(hex``);\n\n    helpers._registerFactory(\"tilemap\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n            case \"level1\":\n            case \"level1\":return tiles.createTilemap(hex`1000100001010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`, img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n`, [myTiles.transparency16,sprites.castle.tileGrass2], TileScale.Sixteen);\n        }\n        return null;\n    })\n\n    helpers._registerFactory(\"tile\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n            case \"myTile\":\n            case \"tile1\":return tile1;\n            case \"transparency16\":return transparency16;\n        }\n        return null;\n    })\n\n}\n// Auto-generated code. Do not edit.\n"}]}],"snapshots":[{"timestamp":1759616441121,"editorVersion":"2.0.59","text":{"main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"really moving tiles \",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1759618248422,"editorVersion":"2.0.59","text":{"main.ts":" class MovingTilesEngine {\r\n     tile: Image \r\n\r\n     protected movingTile: MovingTilesEngine\r\n\r\n     x: number = screen.width >> 1\r\n     y: number = screen.height >> 1\r\n     vx: number\r\n     vy: number\r\n\r\n     constructor(tile: Image) {\r\n         this.tile = tile\r\n         \r\n         this.vx = 0\r\n         this.vy = 0\r\n\r\n         this.drawTile(tile)\r\n     }   \r\n\r\n     public moveTile(on: boolean, col: number, row: number, vx: number, vy: number) {\r\n         this.connectTheTilemapToThisTile(on, col, row)   \r\n         this.creatingMovingTile()\r\n         this.setVelocity(vx, vy)\r\n     }\r\n\r\n     protected setVelocity(vx: number, vy: number) {\r\n         this.vx = vx \r\n         this.vy = vy\r\n     }\r\n\r\n     protected connectTheTilemapToThisTile(registered: boolean, col: number, row: number) {\r\n       const tm = game.currentScene().tileMap\r\n\r\n       if(tm && tm.enabled)\r\n        for(let y = 0; y <= tm.areaHeight();) {\r\n            for(let x = 0; y <= tm.areaWidth();) {\r\n                const index = tm.getImageType(this.tile)\r\n                const getTileStored = tm.getTileImage(index)\r\n                tm.setTileAt(col, row, index)\r\n                 tm.setWallAt(x, y, registered)\r\n            }\r\n        }\r\n     }\r\n\r\n     protected creatingMovingTile() {\r\n         let lastTime = control.millis() / 1000\r\n\r\n         control.eventContext().registerFrameHandler(10, () => {\r\n             const now = control.millis() / 1000\r\n             const dt = now - lastTime\r\n             lastTime = now\r\n\r\n             this.x += this.movingTile.vx * dt\r\n             this.y += this.movingTile.vy * dt\r\n         })\r\n     }\r\n\r\n     protected drawTile(tile: Image) {\r\n         control.enablePerfCounter(\"drawTile\")\r\n\r\n         tile = image.create(screen.width, screen.height)\r\n         scene.createRenderable(scene.TILE_MAP_Z, (image: Image) => image.drawImage(tile, this.x, this.y))\r\n     }\r\n }\r\n","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \" moving tiles\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"tilemaps\": \"github:microsoft/pxt-tilemaps#v1.12.0\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\"\n}\n"}}],"shares":[],"lastSaveTime":1759619929607}